<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset=”utf-8”>
	<title>New England Flu/Pneumonia Deaths 2016-2020</title>
		
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
	<script src="lib/d3.min.js"></script>
    	<script src="https://d3js.org/d3.v5.min.js"></script>
	<script src="https://d3js.org/d3-queue.v3.min.js"></script>
	<script src="//d3js.org/topojson.v1.min.js"></script>
 <style>
	 body {
  background-color: #373737;
}
	 .svg {
		 color: "ADD8E6";
	 }
	 h1 {text-align: center;
	 font-family: Oswald;
	 color: white;}
	</style>
 </head>
<body>
	
	<h1>New England Flu/Pneumonia Deaths 2016-2020</h1>
    	<script>
 		window.onload = setMap();

		function setMap(){
			d3.queue()
  				.defer(function getData(callback) {
    					setTimeout(function() {
      						callback(null, "finished");
    					}, 100);
  				})
  				.await(function(error, message) {
    					console.log(message);
  			});
		}			
		function(getData(){
			d3.queue()
  				.defer(function foo(csvData, ne, us, canada, callback) {
    					d3.csv("Flu_deaths_New_England.csv").then(function(file)
					d3.json("NE_States_flu.topojson").then(function(file)
					d3.json("lower_48.topojson").then(function(file)
					d3.json("canada.topojson").then(function(file)
					{
      				callback(null, file)
    				})
  				}, "https://api.npoint.io/5b22a0474c99d3049d2e")
  			.await(function(error, message) {
    				console.log(message);
  		});
			
	 </script>
	</body>
</html>
